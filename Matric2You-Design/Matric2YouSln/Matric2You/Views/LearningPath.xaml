<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
 xmlns:helpers="clr-namespace:Matric2You.Helpers"
 x:Class="Matric2You.Views.LearningPath"
 Title="Progress Overview">
 <ContentPage.Resources>
 <ResourceDictionary>
 <helpers:PercentTo0to1Converter x:Key="PercentTo0to1Converter" />
 </ResourceDictionary>
 </ContentPage.Resources>

 <ScrollView>
 <VerticalStackLayout Padding="16" Spacing="12">
 <Label Text="Overall Progress" FontAttributes="Bold" FontSize="20" />

 <Grid ColumnDefinitions="Auto,*" ColumnSpacing="12">
 <Label Text="Completion" />
 <ProgressBar Grid.Column="1"
 Progress="{Binding Summary.CompletionPercent, Converter={StaticResource PercentTo0to1Converter}}" />
 </Grid>

 <Grid ColumnDefinitions="Auto,*" ColumnSpacing="12">
 <Label Text="Average Score" />
 <Label Grid.Column="1" Text="{Binding Summary.AverageScore, StringFormat='{0:0.#}%'}" />
 </Grid>

 <Grid ColumnDefinitions="Auto,*" ColumnSpacing="12">
 <Label Text="Lessons" />
 <Label Grid.Column="1"
 Text="{Binding Summary.TotalLessons, StringFormat='Total: {0}'}" />
 </Grid>

 <Grid ColumnDefinitions="*,*,*" ColumnSpacing="8">
 <VerticalStackLayout>
 <Label Text="Completed" HorizontalTextAlignment="Center" />
 <Label Text="{Binding Summary.CompletedLessons}" HorizontalTextAlignment="Center" />
 </VerticalStackLayout>
 <VerticalStackLayout>
 <Label Text="In Progress" HorizontalTextAlignment="Center" />
 <Label Text="{Binding Summary.InProgressLessons}" HorizontalTextAlignment="Center" />
 </VerticalStackLayout>
 <VerticalStackLayout>
 <Label Text="Not Started" HorizontalTextAlignment="Center" />
 <Label Text="{Binding Summary.NotStartedLessons}" HorizontalTextAlignment="Center" />
 </VerticalStackLayout>
 </Grid>

 <Grid ColumnDefinitions="Auto,*" ColumnSpacing="12">
 <Label Text="Time Spent" />
 <Label Grid.Column="1" Text="{Binding Summary.TimeSpentMinutes, StringFormat='{0} min'}" />
 </Grid>

 <Label Text="Pull to refresh" FontAttributes="Italic" TextColor="Gray" />
 </VerticalStackLayout>
 </ScrollView>
</ContentPage>